# CUE Language Support

**CUE Language** support for the IntelliJ platform, https://plugins.jetbrains.com/plugin/16126-cue.

## Usage

The CUE plugin is compatible with **any JetBrains IDE 2024.3** or later.
Only IntelliJ-based IDEs are supported, which means that it's incompatible with ReSharper.

### Features

**Please note that this plugin is in an early state.**

- Complete support for the current language specification
- Syntax highlighting with settings
- Code folding
- Brace matching
- Formatting with `cue fmt`
- Language injection
- Basic LSP support if the installed version of `cue` supports it and if the used JetBrains IDEs supports it.
  Paid JetBrains IDEs and IDEs with unified packaging include LSP support.

#### Formatter

Formatting of CUE files with `cue fmt` is supported.

Please make sure that `cue` is available in `$PATH`. If the executable can't be found, then no content is modified.

Only complete files can be supported. If content is selected before invoking the format action, then no content is modified.

#### Settings

The application settings allow to configure the path to the `cue` binary.
You can download it at [github.com/cuelang](https://github.com/cuelang/cue/releases).

### Bug Reports & Feature Requests

Please report your issues at [https://github.com/cue-lang/intellij-cue/issues](https://github.com/cue-lang/intellij-cue/issues).

## Development

- Java JDK 21 is required

### IDE

Development is best in IntelliJ IDEA.

The following plugins are required for development:

- Gradle
- Kotlin, for Gradle build file support
- [GrammarKit 2023.3](https://plugins.jetbrains.com/plugin/6606-grammar-kit)

### Building

After a build, the plugin is available as a ZIP file at `build/distributions/`.

Building with tests:

```bash
./gradlew clean build
```

Building without tests:

```bash
./gradlew clean build -x test
```

### Executing

You could build the plugin (see above) and install it into your IDE of choice. Alternatively, you can run the plugin in a sandbox:

```bash
./gradlew runIde
```

### Lexer

The lexer is generated by JFlex. The definition is at `src/grammar/cue.flex`.

The following command regenerates the lexer:

```bash
./gradlew generateLexer
```

### Parser

The parser is generated with JetBrains' GrammarKit. GrammarKit is a plugin for IntelliJ IDEA. The definition is at `src/grammar/cue.bnf`.

To update the parser and all related classes, open the `cue.bnf` file in your IDE and choose `Generate Parser` in the context menu of the
editor.

### Releasing

Releases are handled by GitHub Actions.

Each commit to the `main` branch creates a new draft release.
Publishing a draft release on GitHub triggers a workflow to upload the plugin.
The plugin is uploaded to the JetBrains Marketplace, and a new release is created on GitHub.

## JetBrains IDE support policy

As a general rule, we support at least the latest three major versions of JetBrains IDEs.

## Useful Link

- [CUE on the JetBrains Marketplace](https://plugins.jetbrains.com/plugin/16126-cue)
- [CUE Language Website](https://cuelang.org/)
- [The CUE Language Specification](https://cuelang.org/docs/references/spec/)

## History

This project started life at https://github.com/monogon/intellij-cue, where it
was developed and maintained by Monogon SE. In 2025, Monogon SE graciously
gifted this work to the [CUE open source project](https://cuelang.org),
transferring the repository to its current home under the [CUE
organization](https://github.com/cue-lang).

## Copyright

&copy; 2021-2025 Monogon SE<br>
&copy; 2025 CUE Labs